<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title>RefuelJS â€¢ TodoMVC</title>
		<link href="base.css" rel="stylesheet">
		<script src="http://requirejs.org/docs/release/2.1.4/minified/require.js"></script>
		<script src="events.js"></script>		
		<script src="templateParser.js"></script>
		<script src="templateBinder.js"></script>
	</head>
	<body>
		<section id="todoapp" data-module="Todo">
			<header id="header">
				<h1>todos</h1>
				<input id="new-todo" >
			</header>
			<!-- This section should be hidden by default and shown when there are todos -->
			<section id="main">
				<input id="toggle-all" type="checkbox" data-id="toggleAllButton">
				<label for="toggle-all">Mark all as complete</label>
				<ul id="todo-view" data-name="todoView" data-loop="todoList">
					<li data-template="todoView">
						<div class="view">
							<input class="toggle" type="checkbox" value="{{done}}" data-method="changeDone">
							<label>{{text}}</label> 
							<button class="destroy" data-method="destroy" ></button>
						</div>
						<input class="edit" data-method="edit">
					</li>
				</ul>
			</section>
			<footer id="footer">
				<span id="todo-count">
					<strong id="todoListLenght">{{length}}</strong> <span >item</span> left
				</span>
				<ul id="filters">
					<li>
						<a class="selected" href="#/" data-method="viewAll">All</a>
					</li>
					<li>
						<a href="#/active" data-method="viewActive">Active</a>
					</li>
					<li>
						<a href="#/completed" data-method="viewCompleted">Completed</a>
					</li>
				</ul>
				<button id="clear-completed">Clear completed ( {{completedLength}} )</button>
			</footer>
		</section>
	</body>

	<script type="text/javascript">

		function Module() {
			var self = this;

			this.addElement = function(e) {
				console.log('addElement',e);
			}

			this.genericEventHandler = function(e) {
				self[e.method].call(self, e);
			}
			subscribe('genericBinderEvent', this.genericEventHandler);
		}



		var module = new Module();

		DOMParser(root);
		var dom = getSymbolTable(); 
		templateBinder(document.querySelector("#todoapp"), dom);
		
	</script>
</html>